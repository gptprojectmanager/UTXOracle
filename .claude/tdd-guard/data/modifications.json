{
  "session_id": "7faa7bef-7438-4e68-98d2-c7891661fb78",
  "transcript_path": "/home/sam/.claude/projects/-media-sam-1TB-UTXOracle/7faa7bef-7438-4e68-98d2-c7891661fb78.jsonl",
  "hook_event_name": "PreToolUse",
  "tool_name": "Edit",
  "tool_input": {
    "file_path": "/media/sam/1TB/UTXOracle/live/backend/mempool_analyzer.py",
    "old_string": "    def get_state(self) -> MempoolState:\n        \"\"\"Get current mempool state\"\"\"\n        current_time = time.time()\n        self.cleanup_old_transactions(current_time)\n\n        price = self.estimate_price()\n        active_count = len(self.transactions)\n        confidence = calculate_confidence(active_count)\n        uptime = current_time - self.start_time\n\n        return MempoolState(\n            price=price,\n            confidence=confidence,\n            active_tx_count=active_count,\n            total_received=self.total_received,\n            total_filtered=0,\n            uptime_seconds=uptime,\n        )",
    "new_string": "    def get_state(self) -> MempoolState:\n        \"\"\"Get current mempool state\"\"\"\n        current_time = time.time()\n        self.cleanup_old_transactions(current_time)\n\n        price = self.estimate_price()\n        active_count = len(self.transactions)\n        confidence = calculate_confidence(active_count)\n        uptime = current_time - self.start_time\n\n        return MempoolState(\n            price=price,\n            confidence=confidence,\n            active_tx_count=active_count,\n            total_received=self.total_received,\n            total_filtered=0,\n            uptime_seconds=uptime,\n        )\n\n    def get_transaction_history(self) -> List[Tuple[float, float]]:\n        \"\"\"\n        Get transaction history for visualization (T067 - User Story 2).\n\n        Returns:\n            List of (timestamp, price) tuples for Canvas scatter plot.\n            Limited to 500 most recent points for Canvas performance.\n            Ordered by timestamp (ascending - oldest first).\n        \"\"\"\n        return list(self.transaction_history)"
  }
}